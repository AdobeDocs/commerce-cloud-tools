{"version":3,"file":"component---src-pages-docker-test-blackfire-md-7f418cc1705980b9550b.js","mappings":"mSAMaA,EAAe,CAAC,EAKvBC,GAJgBC,EAIY,cAJJ,SAA6BC,GAEzD,OADAC,QAAQC,KAAK,aAAeH,EAAO,4EAC5B,eAASC,EAClB,GAHsBD,MAKtB,MAAMI,EAAc,CAClBN,gBAEIO,EAAYC,EAAAA,EACH,SAASC,EAAW,GAGhC,IAHgC,WACjCC,GAED,EADIP,GAAK,YAER,OAAO,SAACI,GAAS,UAAKD,EAAiBH,EAAK,CAAEO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,uBACH,wBACL,kBAAK,+GACL,kBAAK,8YACL,SAACV,EAAW,CAACW,QAAQ,UAAUC,MAAM,OAAOF,QAAQ,iBACpD,kBAAK,6HAA2H,cAAGG,WAAW,IAC1I,KAAQ,oEACL,gCAAoC,QAAM,cAAGA,WAAW,IAC3D,KAAQ,gCACL,yBAA6B,YAAU,eAAIA,WAAW,KAAM,wBAA6B,MAChG,mBAAG,mBAAQA,WAAW,KAAM,qDAA8D,MAC1F,oBACE,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,wDAAsD,uBAAYA,WAAW,KAAM,sBAAmC,oBAAkB,uBAAYA,WAAW,KAAM,qBAAkC,WAC5N,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,qPAYT,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,iBAAe,uBAAYA,WAAW,KAAM,sBAAmC,kDAAgD,cAAGA,WAAW,IAC9J,KAAQ,yBACL,0CAA8C,SAAO,cAAGA,WAAW,IACtE,KAAQ,6DACL,gCAAoC,gBAC3C,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,iEAGT,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,qDACrB,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,+BAEP,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,yCAGP,cAAGA,WAAW,MAAO,4EAA0E,cAAGA,WAAW,IACzG,KAAQ,+BACL,mCAAuC,OAEhD,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,qEAAmE,cAAGA,WAAW,IAClG,KAAQ,+CACL,mCAAuC,OAEhD,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,uDACrB,eAAIA,WAAW,OACb,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,mDACrB,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,mDAEP,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,iFAGT,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,2BACrB,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,0DAKX,cAAGA,WAAW,MAAO,wHAEvB,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,iEACrB,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,yHAEP,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,oGAGT,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,qBACrB,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,mEAGT,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,4DACrB,gBAAKA,WAAW,OAAK,iBAAMA,WAAW,MAClC,UAAa,iBACV,2BAIX,mBAAG,mBAAQA,WAAW,KAAM,+DAAwE,MACpG,oBACE,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,mDAAiD,cAAGA,WAAW,IAChF,KAAQ,0EACL,2BAA+B,OAExC,eAAIA,WAAW,OACb,cAAGA,WAAW,MAAO,yCAM7B,CAEAL,EAAWM,gBAAiB,C","sources":["webpack://commerce-cloud-tools/./src/pages/docker/test/blackfire.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-cloud-tools/commerce-cloud-tools/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"configure-blackfire\"\n    }}>{`Configure Blackfire`}</h1>\n    <p>{`You can add Blackfire to your Cloud Docker for Commerce environment to fully automate performance testing.`}</p>\n    <p>{`Blackfire.io for Adobe Commerce on cloud infrastructure is a PHP profiler and automated performance testing tool for use in development, integration, staging, and production environments. It enables you to locate and investigate performance issues in your environment at the code level and creates a performance profile by tracking every PHP call, method, and SQL query performed by your code.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`You must have a Blackfire license and account to use Blackfire with Adobe Commerce on cloud infrastructure projects. See `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.blackfire.io/integrations/paas/adobe-commerce-cloud\"\n      }}>{`Adobe Commerce Cloud support`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"https://blackfire.io/magento\"\n      }}>{`Blackfire for Magento`}</a>{` on the `}<em parentName=\"p\">{`Blackfire.io website`}</em>{`.`}</p>\n    <p><strong parentName=\"p\">{`To add Blackfire.io to your project configuration`}</strong>{`:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add the following Blackfire.io configuration to the `}<inlineCode parentName=\"p\">{`runtime:extensions`}</inlineCode>{` section of the `}<inlineCode parentName=\"p\">{`.magento.app.yaml`}</inlineCode>{` file.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-yaml\"\n          }}>{`runtime:\n  extensions:\n    - random-extension-here\n    -\n      name: blackfire\n      configuration:\n        server_id: SERVER_ID\n        server_token: SERVER_TOKEN\n        client_id: CLIENT_ID\n        client_token: CLIENT_TOKEN\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Generate the `}<inlineCode parentName=\"p\">{`docker-compose.yml`}</inlineCode>{` file for developer mode, adding any required `}<a parentName=\"p\" {...{\n            \"href\": \"../quick-reference.md\"\n          }}>{`build or service configuration options`}</a>{` and `}<a parentName=\"p\" {...{\n            \"href\": \"../setup/synchronize-data.md#file-synchronization-options\"\n          }}>{`file synchronization options`}</a>{` if needed.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`./vendor/bin/ece-docker build:compose --mode=\"developer\"\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Start the Cloud Docker for Commerce environment.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`./bin/magento-docker up\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`./bin/magento-docker ece-redeploy\n`}</code></pre>\n        {/* <InlineAlert variant=\"info\" slots=\"text\"/> */}\n        <p parentName=\"li\">{`If you are using file synchronization, synchronize files as needed. See `}<a parentName=\"p\" {...{\n            \"href\": \"../deploy/developer-mode.md\"\n          }}>{`Launch Docker in developer mode`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add context to use locally customized PHP images as described in `}<a parentName=\"p\" {...{\n            \"href\": \"../configure/extend-docker-configuration.md\"\n          }}>{`Extend the Docker configuration`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Install Adobe Commerce in your Docker environment.`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Deploy Adobe Commerce in the Docker container.`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-bash\"\n              }}>{`docker compose run --rm deploy cloud-deploy\n`}</code></pre>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-bash\"\n              }}>{`docker compose run --rm deploy magento-command deploy:mode:set developer\n`}</code></pre>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Run post-deploy hooks.`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-bash\"\n              }}>{`docker compose run --rm deploy cloud-post-deploy\n`}</code></pre>\n          </li>\n        </ul>\n        {/* <InlineAlert variant=\"help\" slots=\"text\"/> */}\n        <p parentName=\"li\">{`Review messages and notifications during the deployment process and address any errors or notifications as needed.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enable the Varnish cache for the Adobe Commerce application.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker compose run --rm deploy magento-command config:set system/full_page_cache/caching_application 2 --lock-env\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker compose run --rm deploy magento-command setup:config:set  --http-cache-hosts=varnish\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Clear the cache.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker compose run --rm deploy magento-command cache:clean\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Make sure that necessary containers are up and running.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker compose ps\n`}</code></pre>\n      </li>\n    </ol>\n    <p><strong parentName=\"p\">{`To use Blackfire.io for performance testing in Cloud Docker`}</strong>{`:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Install a profiling client as described in the `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.blackfire.io/php/training-resources/book/04-first-profile\"\n          }}>{`Blackfire documentation`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Profile the Adobe Commerce website.`}</p>\n      </li>\n    </ol>\n    {/*Link definitions*/}\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","InlineAlert","name","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","variant","slots","parentName","isMDXComponent"],"sourceRoot":""}